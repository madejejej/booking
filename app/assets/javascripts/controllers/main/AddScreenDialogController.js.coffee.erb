@controllers.controller('AddScreenDialogController',
    [ '$scope', '$modalInstance', 'cinemaId', 'ScreenService', ($scope, $modalInstance, cinemaId, ScreenService) ->

        $scope.header= "Add screen"
        $scope.button_text = "Create"
        $scope.screen =
            id: -1
            name: '',
            seats: 0

        $scope.validScreenForm = () ->
            if $scope.screen.name is undefined then return false
            return $scope.screen.name.length > 0 && $scope.screen.seats > 0

        $scope.action = () ->
            ScreenService.CRUD(cinemaId).create(
                screen: $scope.screen,
                (success) ->
                    $scope.screen.id = success.id
                    $modalInstance.close($scope.screen)
                (failure) ->
                    $modalInstance.close()
            )


        $scope.cancel = () ->
            $modalInstance.dismiss()







]);
